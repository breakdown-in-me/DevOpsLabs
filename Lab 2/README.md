# Лабораторная работа №2 

## Цель работы:
Написать "плохой" и "хороший" Dockerfile. Изучить какие практики являются плохими, а в "хорошем" файле уже пофиксить все "bad practices". 

## Анализ плохого докерфайла:


1. **FROM nginx:latest**

  Тег latest не фиксирует конкретную версию. Так как на локальной машине работает одна версия, а при следующей сборке может подтянуться уже более свежая, то поведение контейнера может отличаться или сломаться полностью.

2. **COPY ALL FILES /usr/share/nginx/html**

   Копируется весь проект целиком в контейнер. В том числе, туда попадают .git, секреты проекта и много мусора.

3. **SET ENVIRONMENT VARIABLE API_KEY=supersecret**

   Секреты остаются в истории образов и доступны всем, кто имеет доступ к образу. Получается его очень легко узнать, а нам этого не нужно.

## Исправления в хорошем докерфайле:


1. **Стало FROM nginx:1.25-alpine**
   
   Версия стала фиксированной, теперь он будет всегда работать исправно.

2. **Исправлено на COPY public/**
   
   В контейнер копируются только необходимые файлы из public. Никакой лишней информации больше туда не добавляется.


3. **SET ENVIRONMENT VARIABLE API_KEY=supersecret убрано**
   
   Секреты больше не хранятся внутри образа.

## Итоги 
После проделанной работы стало яснее какие практики относятся к bad practise и как их избегать в качественных Dockerfile'ах. К основным достижениям за работу можно отнести следующее: были идентифицированы ключевые bad practise, устарнены риски безопасности через удаление секретов из образа проекта, обеспечена воспроизводимость за счёт фиксации версии. 

