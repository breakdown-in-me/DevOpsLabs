# Лабораторная работа №1

## Введение

**Основные задачи:**

1. Настроить работу сайтов по https с использованием самоподписанных сертификатов
2. Перенаправлять http-запросы на https для обеспечения безопасного соединения
3. Применить alias для псевдонимов путей к файлам
4. Настроить виртуальные хосты для обслуживания нескольких доменных имен на одном сервере

## Ход работы

### 1. Установка ПО (nginx + openssl)

### 2. Проверка работы nginx через localhost

![Проверка nginx](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/nginx.png)

### 3. Открыл html файл веб-страницу с регистрацией на localhost

![Веб-страница с регистрацией](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/localhost%20site.png)


### 4. Создание сертификатов безопасности

Далее я создавал сертификаты безопасности через openssl, однако при запуске в браузере вылезала ошибка о том, что «Подключение не защищено» и сайт нам не доверяет. Для решения проблемы я решил создать сертификат через mkcert и это сработало.

![Создание сертификата](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/ssl.png)

### 5. Добавление доменов

Далее я добавил в файл hosts 2 новых домена

![Добавление доменов в hosts](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/new%20hosts.png)

### 6. Настройка перенаправления HTTP → HTTPS

В конфиге настроил принудительный переброс с http-протокола на https для первого сайта и аналогично поступил и со вторым

![Конфигурация Nginx](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/http%20to%20https.png)

### 7. Тестирование работы сайтов

На этом этапе самое время, чтобы протестировать работу сайтов. В итоге, всё отлично работает, оба сайта открываются

![Тестирование сайтов](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/two%20sites.png)

### 8. Настройка alias для путей

Теперь создаем в проекте папку images и настраиваем путь к ней в конфиге с помощью alias. Так при нажатии на кнопки, открываются изображения.

![Настройка alias](https://github.com/breakdown-in-me/DevOpsLabs/blob/main/Lab1/images/alias.png)

## Вывод


Успешно настроены два HTTPS-сайта с перенаправлением HTTP→HTTPS, виртуальными хостами и псевдонимами путей.
